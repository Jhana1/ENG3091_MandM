ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"compass.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.comm	Camera_framebuffer,50688,4
  19              		.comm	compass_x,2,2
  20              		.comm	compass_y,2,2
  21              		.comm	compass_z,2,2
  22              		.comm	compass_heading,2,2
  23              		.comm	compass_ready,1,1
  24              		.comm	original_compass_heading,2,2
  25              		.section	.text.DRDY_INTERRUPT,"ax",%progbits
  26              		.align	2
  27              		.global	DRDY_INTERRUPT
  28              		.thumb
  29              		.thumb_func
  30              		.type	DRDY_INTERRUPT, %function
  31              	DRDY_INTERRUPT:
  32              	.LFB63:
  33              		.file 1 ".\\compass.c"
   1:.\compass.c   **** /* ========================================
   2:.\compass.c   ****  *
   3:.\compass.c   ****  * Copyright YOUR COMPANY, THE YEAR
   4:.\compass.c   ****  * All Rights Reserved
   5:.\compass.c   ****  * UNPUBLISHED, LICENSED SOFTWARE.
   6:.\compass.c   ****  *
   7:.\compass.c   ****  * CONFIDENTIAL AND PROPRIETARY INFORMATION
   8:.\compass.c   ****  * WHICH IS THE PROPERTY OF your company.
   9:.\compass.c   ****  *
  10:.\compass.c   ****  * ========================================
  11:.\compass.c   **** */
  12:.\compass.c   **** 
  13:.\compass.c   **** /** HOW TO USE THIS MODULE **
  14:.\compass.c   ****  * 1. Start the compass with start_compass()
  15:.\compass.c   ****  * 2. Monitor the compass_ready variable, if it is true, then you
  16:.\compass.c   ****  *    can call compass_read() to refresh the compass data
  17:.\compass.c   ****  * 3. Read from compass x,y,z and heading to get the heading info
  18:.\compass.c   ****  */
  19:.\compass.c   **** 
  20:.\compass.c   **** /* Example code to put in main loop
  21:.\compass.c   **** //Read the compass when it is ready for reading
  22:.\compass.c   **** if (compass_ready){
  23:.\compass.c   ****     compass_ready = 0;
  24:.\compass.c   ****     compass_read();
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 2


  25:.\compass.c   ****     //Access compass_x, compass_y, etc.
  26:.\compass.c   **** }
  27:.\compass.c   **** */
  28:.\compass.c   **** 
  29:.\compass.c   **** #include <project.h>
  30:.\compass.c   **** #include <compass.h>
  31:.\compass.c   **** #include <math.h>
  32:.\compass.c   **** 
  33:.\compass.c   **** int16 compass_x;
  34:.\compass.c   **** int16 compass_y;
  35:.\compass.c   **** int16 compass_z;
  36:.\compass.c   **** int16 compass_heading; //0-360 degrees
  37:.\compass.c   **** volatile uint8 compass_ready;
  38:.\compass.c   **** 
  39:.\compass.c   **** int16 original_compass_heading; //this makes our compass relative
  40:.\compass.c   **** 
  41:.\compass.c   **** // These calibration values can be found by plotting the x,y pairs
  42:.\compass.c   **** // whilst turning the compass through 360 degrees, then moving the 
  43:.\compass.c   **** // resulting circle to center on the origin
  44:.\compass.c   **** //AT HOME
  45:.\compass.c   **** //#define CALIBRATION_X -25
  46:.\compass.c   **** //#define CALIBRATION_Y 50
  47:.\compass.c   **** //AT THE LAB/ARENA
  48:.\compass.c   **** //#define CALIBRATION_X 25
  49:.\compass.c   **** //#define CALIBRATION_Y -25
  50:.\compass.c   **** //#define CALIBRATION_X 40
  51:.\compass.c   **** //#define CALIBRATION_Y -30
  52:.\compass.c   **** #define CALIBRATION_X -15
  53:.\compass.c   **** #define CALIBRATION_Y -42
  54:.\compass.c   **** CY_ISR(DRDY_INTERRUPT){
  34              		.loc 1 54 0
  35              		.cfi_startproc
  36              		@ args = 0, pretend = 0, frame = 0
  37              		@ frame_needed = 1, uses_anonymous_args = 0
  38 0000 80B5     		push	{r7, lr}
  39              		.cfi_def_cfa_offset 8
  40              		.cfi_offset 7, -8
  41              		.cfi_offset 14, -4
  42 0002 00AF     		add	r7, sp, #0
  43              		.cfi_def_cfa_register 7
  55:.\compass.c   ****     compass_ready = 1;
  44              		.loc 1 55 0
  45 0004 024B     		ldr	r3, .L2
  46 0006 0122     		movs	r2, #1
  47 0008 1A70     		strb	r2, [r3]
  56:.\compass.c   ****     Compass_DRDY_ISR_ClearPending();
  48              		.loc 1 56 0
  49 000a FFF7FEFF 		bl	Compass_DRDY_ISR_ClearPending
  57:.\compass.c   **** }
  50              		.loc 1 57 0
  51 000e 80BD     		pop	{r7, pc}
  52              	.L3:
  53              		.align	2
  54              	.L2:
  55 0010 00000000 		.word	compass_ready
  56              		.cfi_endproc
  57              	.LFE63:
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 3


  58              		.size	DRDY_INTERRUPT, .-DRDY_INTERRUPT
  59              		.comm	SinDeg,2880,8
  60              		.comm	CosDeg,2880,8
  61              		.global	__aeabi_i2d
  62              		.global	__aeabi_dsub
  63              		.global	__aeabi_dmul
  64              		.section	.text.calculate_circular_functions,"ax",%progbits
  65              		.align	2
  66              		.global	calculate_circular_functions
  67              		.thumb
  68              		.thumb_func
  69              		.type	calculate_circular_functions, %function
  70              	calculate_circular_functions:
  71              	.LFB64:
  58:.\compass.c   **** 
  59:.\compass.c   **** //These are lookup tables storing sin and cos values in degrees
  60:.\compass.c   **** double SinDeg[360];
  61:.\compass.c   **** double CosDeg[360];
  62:.\compass.c   **** 
  63:.\compass.c   **** void calculate_circular_functions(){
  72              		.loc 1 63 0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 8
  75              		@ frame_needed = 1, uses_anonymous_args = 0
  76 0000 80B5     		push	{r7, lr}
  77              		.cfi_def_cfa_offset 8
  78              		.cfi_offset 7, -8
  79              		.cfi_offset 14, -4
  80 0002 82B0     		sub	sp, sp, #8
  81              		.cfi_def_cfa_offset 16
  82 0004 00AF     		add	r7, sp, #0
  83              		.cfi_def_cfa_register 7
  64:.\compass.c   ****     int i;
  65:.\compass.c   ****     for (i = 0; i < 360; i++){
  84              		.loc 1 65 0
  85 0006 0023     		movs	r3, #0
  86 0008 7B60     		str	r3, [r7, #4]
  87 000a 48E0     		b	.L5
  88              	.L6:
  66:.\compass.c   ****         SinDeg[i] = sin((((double) i) - 180) * (M_PI / 180.0));
  89              		.loc 1 66 0 discriminator 2
  90 000c 7868     		ldr	r0, [r7, #4]
  91 000e FFF7FEFF 		bl	__aeabi_i2d
  92 0012 0246     		mov	r2, r0
  93 0014 0B46     		mov	r3, r1
  94 0016 1046     		mov	r0, r2
  95 0018 1946     		mov	r1, r3
  96 001a 4FF00002 		mov	r2, #0
  97 001e 264B     		ldr	r3, .L7+8
  98 0020 FFF7FEFF 		bl	__aeabi_dsub
  99 0024 0246     		mov	r2, r0
 100 0026 0B46     		mov	r3, r1
 101 0028 1046     		mov	r0, r2
 102 002a 1946     		mov	r1, r3
 103 002c 20A3     		adr	r3, .L7
 104 002e D3E90023 		ldrd	r2, [r3]
 105 0032 FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 4


 106 0036 0246     		mov	r2, r0
 107 0038 0B46     		mov	r3, r1
 108 003a 1046     		mov	r0, r2
 109 003c 1946     		mov	r1, r3
 110 003e FFF7FEFF 		bl	sin
 111 0042 0246     		mov	r2, r0
 112 0044 0B46     		mov	r3, r1
 113 0046 1D48     		ldr	r0, .L7+12
 114 0048 7968     		ldr	r1, [r7, #4]
 115 004a C900     		lsls	r1, r1, #3
 116 004c 0144     		add	r1, r1, r0
 117 004e C1E90023 		strd	r2, [r1]
  67:.\compass.c   ****         CosDeg[i] = cos((((double) i) - 180) * (M_PI / 180.0));
 118              		.loc 1 67 0 discriminator 2
 119 0052 7868     		ldr	r0, [r7, #4]
 120 0054 FFF7FEFF 		bl	__aeabi_i2d
 121 0058 0246     		mov	r2, r0
 122 005a 0B46     		mov	r3, r1
 123 005c 1046     		mov	r0, r2
 124 005e 1946     		mov	r1, r3
 125 0060 4FF00002 		mov	r2, #0
 126 0064 144B     		ldr	r3, .L7+8
 127 0066 FFF7FEFF 		bl	__aeabi_dsub
 128 006a 0246     		mov	r2, r0
 129 006c 0B46     		mov	r3, r1
 130 006e 1046     		mov	r0, r2
 131 0070 1946     		mov	r1, r3
 132 0072 0FA3     		adr	r3, .L7
 133 0074 D3E90023 		ldrd	r2, [r3]
 134 0078 FFF7FEFF 		bl	__aeabi_dmul
 135 007c 0246     		mov	r2, r0
 136 007e 0B46     		mov	r3, r1
 137 0080 1046     		mov	r0, r2
 138 0082 1946     		mov	r1, r3
 139 0084 FFF7FEFF 		bl	cos
 140 0088 0246     		mov	r2, r0
 141 008a 0B46     		mov	r3, r1
 142 008c 0C48     		ldr	r0, .L7+16
 143 008e 7968     		ldr	r1, [r7, #4]
 144 0090 C900     		lsls	r1, r1, #3
 145 0092 0144     		add	r1, r1, r0
 146 0094 C1E90023 		strd	r2, [r1]
  65:.\compass.c   ****     for (i = 0; i < 360; i++){
 147              		.loc 1 65 0 discriminator 2
 148 0098 7B68     		ldr	r3, [r7, #4]
 149 009a 0133     		adds	r3, r3, #1
 150 009c 7B60     		str	r3, [r7, #4]
 151              	.L5:
  65:.\compass.c   ****     for (i = 0; i < 360; i++){
 152              		.loc 1 65 0 is_stmt 0 discriminator 1
 153 009e 7B68     		ldr	r3, [r7, #4]
 154 00a0 B3F5B47F 		cmp	r3, #360
 155 00a4 B2DB     		blt	.L6
  68:.\compass.c   ****     }
  69:.\compass.c   **** }
 156              		.loc 1 69 0 is_stmt 1
 157 00a6 0837     		adds	r7, r7, #8
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 5


 158 00a8 BD46     		mov	sp, r7
 159              		@ sp needed
 160 00aa 80BD     		pop	{r7, pc}
 161              	.L8:
 162 00ac AFF30080 		.align	3
 163              	.L7:
 164 00b0 399D52A2 		.word	-1571644103
 165 00b4 46DF913F 		.word	1066524486
 166 00b8 00806640 		.word	1080459264
 167 00bc 00000000 		.word	SinDeg
 168 00c0 00000000 		.word	CosDeg
 169              		.cfi_endproc
 170              	.LFE64:
 171              		.size	calculate_circular_functions, .-calculate_circular_functions
 172 00c4 AFF30080 		.section	.text.start_compass,"ax",%progbits
 173              		.align	2
 174              		.global	start_compass
 175              		.thumb
 176              		.thumb_func
 177              		.type	start_compass, %function
 178              	start_compass:
 179              	.LFB65:
  70:.\compass.c   **** 
  71:.\compass.c   **** void start_compass(){
 180              		.loc 1 71 0
 181              		.cfi_startproc
 182              		@ args = 0, pretend = 0, frame = 0
 183              		@ frame_needed = 1, uses_anonymous_args = 0
 184 0000 80B5     		push	{r7, lr}
 185              		.cfi_def_cfa_offset 8
 186              		.cfi_offset 7, -8
 187              		.cfi_offset 14, -4
 188 0002 00AF     		add	r7, sp, #0
 189              		.cfi_def_cfa_register 7
  72:.\compass.c   ****     compass_ready = 0;
 190              		.loc 1 72 0
 191 0004 1D4B     		ldr	r3, .L10
 192 0006 0022     		movs	r2, #0
 193 0008 1A70     		strb	r2, [r3]
  73:.\compass.c   ****     compass_x = 0;
 194              		.loc 1 73 0
 195 000a 1D4B     		ldr	r3, .L10+4
 196 000c 0022     		movs	r2, #0
 197 000e 1A80     		strh	r2, [r3]	@ movhi
  74:.\compass.c   ****     compass_y = 0;
 198              		.loc 1 74 0
 199 0010 1C4B     		ldr	r3, .L10+8
 200 0012 0022     		movs	r2, #0
 201 0014 1A80     		strh	r2, [r3]	@ movhi
  75:.\compass.c   ****     compass_z = 0;
 202              		.loc 1 75 0
 203 0016 1C4B     		ldr	r3, .L10+12
 204 0018 0022     		movs	r2, #0
 205 001a 1A80     		strh	r2, [r3]	@ movhi
  76:.\compass.c   ****     compass_heading = 0;
 206              		.loc 1 76 0
 207 001c 1B4B     		ldr	r3, .L10+16
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 6


 208 001e 0022     		movs	r2, #0
 209 0020 1A80     		strh	r2, [r3]	@ movhi
  77:.\compass.c   ****     original_compass_heading = 0;
 210              		.loc 1 77 0
 211 0022 1B4B     		ldr	r3, .L10+20
 212 0024 0022     		movs	r2, #0
 213 0026 1A80     		strh	r2, [r3]	@ movhi
  78:.\compass.c   ****     
  79:.\compass.c   ****     I2C_Start();
 214              		.loc 1 79 0
 215 0028 FFF7FEFF 		bl	I2C_Start
  80:.\compass.c   ****     //Write configuration register A
  81:.\compass.c   ****     I2C_MasterSendStart(COMPASS_ADDR, I2C_WRITE_XFER_MODE); 
 216              		.loc 1 81 0
 217 002c 1E20     		movs	r0, #30
 218 002e 0021     		movs	r1, #0
 219 0030 FFF7FEFF 		bl	I2C_MasterSendStart
  82:.\compass.c   ****     I2C_MasterWriteByte(COMPASS_REG_CONF_A);
 220              		.loc 1 82 0
 221 0034 0020     		movs	r0, #0
 222 0036 FFF7FEFF 		bl	I2C_MasterWriteByte
  83:.\compass.c   ****     I2C_MasterWriteByte(COMPASS_DAT_CONF_A);
 223              		.loc 1 83 0
 224 003a 7020     		movs	r0, #112
 225 003c FFF7FEFF 		bl	I2C_MasterWriteByte
  84:.\compass.c   ****     I2C_MasterSendStop();
 226              		.loc 1 84 0
 227 0040 FFF7FEFF 		bl	I2C_MasterSendStop
  85:.\compass.c   ****     //Write configuration register A    
  86:.\compass.c   ****     I2C_MasterSendStart(COMPASS_ADDR, I2C_WRITE_XFER_MODE); 
 228              		.loc 1 86 0
 229 0044 1E20     		movs	r0, #30
 230 0046 0021     		movs	r1, #0
 231 0048 FFF7FEFF 		bl	I2C_MasterSendStart
  87:.\compass.c   ****     I2C_MasterWriteByte(COMPASS_REG_CONF_B);
 232              		.loc 1 87 0
 233 004c 0120     		movs	r0, #1
 234 004e FFF7FEFF 		bl	I2C_MasterWriteByte
  88:.\compass.c   ****     I2C_MasterWriteByte(COMPASS_DAT_CONF_B);
 235              		.loc 1 88 0
 236 0052 2020     		movs	r0, #32
 237 0054 FFF7FEFF 		bl	I2C_MasterWriteByte
  89:.\compass.c   ****     I2C_MasterSendStop();
 238              		.loc 1 89 0
 239 0058 FFF7FEFF 		bl	I2C_MasterSendStop
  90:.\compass.c   ****     //Write mode register
  91:.\compass.c   ****     I2C_MasterSendStart(COMPASS_ADDR, I2C_WRITE_XFER_MODE); 
 240              		.loc 1 91 0
 241 005c 1E20     		movs	r0, #30
 242 005e 0021     		movs	r1, #0
 243 0060 FFF7FEFF 		bl	I2C_MasterSendStart
  92:.\compass.c   ****     I2C_MasterWriteByte(COMPASS_REG_MODE);
 244              		.loc 1 92 0
 245 0064 0220     		movs	r0, #2
 246 0066 FFF7FEFF 		bl	I2C_MasterWriteByte
  93:.\compass.c   ****     I2C_MasterWriteByte(COMPASS_DAT_MODE);
 247              		.loc 1 93 0
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 7


 248 006a 0020     		movs	r0, #0
 249 006c FFF7FEFF 		bl	I2C_MasterWriteByte
  94:.\compass.c   ****     I2C_MasterSendStop();
 250              		.loc 1 94 0
 251 0070 FFF7FEFF 		bl	I2C_MasterSendStop
  95:.\compass.c   ****     
  96:.\compass.c   ****     Compass_DRDY_ISR_StartEx(DRDY_INTERRUPT);
 252              		.loc 1 96 0
 253 0074 0748     		ldr	r0, .L10+24
 254 0076 FFF7FEFF 		bl	Compass_DRDY_ISR_StartEx
  97:.\compass.c   **** }
 255              		.loc 1 97 0
 256 007a 80BD     		pop	{r7, pc}
 257              	.L11:
 258              		.align	2
 259              	.L10:
 260 007c 00000000 		.word	compass_ready
 261 0080 00000000 		.word	compass_x
 262 0084 00000000 		.word	compass_y
 263 0088 00000000 		.word	compass_z
 264 008c 00000000 		.word	compass_heading
 265 0090 00000000 		.word	original_compass_heading
 266 0094 00000000 		.word	DRDY_INTERRUPT
 267              		.cfi_endproc
 268              	.LFE65:
 269              		.size	start_compass, .-start_compass
 270              		.global	__aeabi_dadd
 271              		.global	__aeabi_d2iz
 272              		.section	.text.compass_read,"ax",%progbits
 273              		.align	2
 274              		.global	compass_read
 275              		.thumb
 276              		.thumb_func
 277              		.type	compass_read, %function
 278              	compass_read:
 279              	.LFB66:
  98:.\compass.c   **** 
  99:.\compass.c   **** 
 100:.\compass.c   **** void compass_read(){
 280              		.loc 1 100 0
 281              		.cfi_startproc
 282              		@ args = 0, pretend = 0, frame = 8
 283              		@ frame_needed = 1, uses_anonymous_args = 0
 284 0000 B0B5     		push	{r4, r5, r7, lr}
 285              		.cfi_def_cfa_offset 16
 286              		.cfi_offset 4, -16
 287              		.cfi_offset 5, -12
 288              		.cfi_offset 7, -8
 289              		.cfi_offset 14, -4
 290 0002 82B0     		sub	sp, sp, #8
 291              		.cfi_def_cfa_offset 24
 292 0004 00AF     		add	r7, sp, #0
 293              		.cfi_def_cfa_register 7
 101:.\compass.c   ****     uint8 data[6] = {0, 0, 0, 0, 0, 0};
 294              		.loc 1 101 0
 295 0006 0023     		movs	r3, #0
 296 0008 3B70     		strb	r3, [r7]
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 8


 297 000a 0023     		movs	r3, #0
 298 000c 7B70     		strb	r3, [r7, #1]
 299 000e 0023     		movs	r3, #0
 300 0010 BB70     		strb	r3, [r7, #2]
 301 0012 0023     		movs	r3, #0
 302 0014 FB70     		strb	r3, [r7, #3]
 303 0016 0023     		movs	r3, #0
 304 0018 3B71     		strb	r3, [r7, #4]
 305 001a 0023     		movs	r3, #0
 306 001c 7B71     		strb	r3, [r7, #5]
 102:.\compass.c   ****     //Set the compass internal address pointer to xh
 103:.\compass.c   ****     I2C_MasterSendStart(COMPASS_ADDR, I2C_WRITE_XFER_MODE);
 307              		.loc 1 103 0
 308 001e 1E20     		movs	r0, #30
 309 0020 0021     		movs	r1, #0
 310 0022 FFF7FEFF 		bl	I2C_MasterSendStart
 104:.\compass.c   ****     I2C_MasterWriteByte(0x03);
 311              		.loc 1 104 0
 312 0026 0320     		movs	r0, #3
 313 0028 FFF7FEFF 		bl	I2C_MasterWriteByte
 105:.\compass.c   ****     I2C_MasterSendStop();
 314              		.loc 1 105 0
 315 002c FFF7FEFF 		bl	I2C_MasterSendStop
 106:.\compass.c   ****     //Read six bytes
 107:.\compass.c   ****     I2C_MasterSendStart(COMPASS_ADDR, I2C_READ_XFER_MODE);
 316              		.loc 1 107 0
 317 0030 1E20     		movs	r0, #30
 318 0032 0121     		movs	r1, #1
 319 0034 FFF7FEFF 		bl	I2C_MasterSendStart
 108:.\compass.c   ****     data[0] = I2C_MasterReadByte(I2C_ACK_DATA);
 320              		.loc 1 108 0
 321 0038 0120     		movs	r0, #1
 322 003a FFF7FEFF 		bl	I2C_MasterReadByte
 323 003e 0346     		mov	r3, r0
 324 0040 3B70     		strb	r3, [r7]
 109:.\compass.c   ****     data[1] = I2C_MasterReadByte(I2C_ACK_DATA);
 325              		.loc 1 109 0
 326 0042 0120     		movs	r0, #1
 327 0044 FFF7FEFF 		bl	I2C_MasterReadByte
 328 0048 0346     		mov	r3, r0
 329 004a 7B70     		strb	r3, [r7, #1]
 110:.\compass.c   ****     data[2] = I2C_MasterReadByte(I2C_ACK_DATA);
 330              		.loc 1 110 0
 331 004c 0120     		movs	r0, #1
 332 004e FFF7FEFF 		bl	I2C_MasterReadByte
 333 0052 0346     		mov	r3, r0
 334 0054 BB70     		strb	r3, [r7, #2]
 111:.\compass.c   ****     data[3] = I2C_MasterReadByte(I2C_ACK_DATA);
 335              		.loc 1 111 0
 336 0056 0120     		movs	r0, #1
 337 0058 FFF7FEFF 		bl	I2C_MasterReadByte
 338 005c 0346     		mov	r3, r0
 339 005e FB70     		strb	r3, [r7, #3]
 112:.\compass.c   ****     data[4] = I2C_MasterReadByte(I2C_ACK_DATA);
 340              		.loc 1 112 0
 341 0060 0120     		movs	r0, #1
 342 0062 FFF7FEFF 		bl	I2C_MasterReadByte
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 9


 343 0066 0346     		mov	r3, r0
 344 0068 3B71     		strb	r3, [r7, #4]
 113:.\compass.c   ****     data[5] = I2C_MasterReadByte(I2C_NAK_DATA);
 345              		.loc 1 113 0
 346 006a 0020     		movs	r0, #0
 347 006c FFF7FEFF 		bl	I2C_MasterReadByte
 348 0070 0346     		mov	r3, r0
 349 0072 7B71     		strb	r3, [r7, #5]
 114:.\compass.c   ****     I2C_MasterSendStop();
 350              		.loc 1 114 0
 351 0074 FFF7FEFF 		bl	I2C_MasterSendStop
 115:.\compass.c   ****     
 116:.\compass.c   ****     compass_x = ((data[0] << 8) | data[1]);
 352              		.loc 1 116 0
 353 0078 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 354 007a 1B02     		lsls	r3, r3, #8
 355 007c 9AB2     		uxth	r2, r3
 356 007e 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 357 0080 1343     		orrs	r3, r3, r2
 358 0082 9AB2     		uxth	r2, r3
 359 0084 3E4B     		ldr	r3, .L15+8
 360 0086 1A80     		strh	r2, [r3]	@ movhi
 117:.\compass.c   ****     compass_z = (data[2] << 8) | data[3];//Bizarrely, the device reads x,z,y...
 361              		.loc 1 117 0
 362 0088 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 363 008a 1B02     		lsls	r3, r3, #8
 364 008c 9AB2     		uxth	r2, r3
 365 008e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 366 0090 1343     		orrs	r3, r3, r2
 367 0092 9AB2     		uxth	r2, r3
 368 0094 3B4B     		ldr	r3, .L15+12
 369 0096 1A80     		strh	r2, [r3]	@ movhi
 118:.\compass.c   ****     compass_y = ((data[4] << 8) | data[5]);
 370              		.loc 1 118 0
 371 0098 3B79     		ldrb	r3, [r7, #4]	@ zero_extendqisi2
 372 009a 1B02     		lsls	r3, r3, #8
 373 009c 9AB2     		uxth	r2, r3
 374 009e 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 375 00a0 1343     		orrs	r3, r3, r2
 376 00a2 9AB2     		uxth	r2, r3
 377 00a4 384B     		ldr	r3, .L15+16
 378 00a6 1A80     		strh	r2, [r3]	@ movhi
 119:.\compass.c   ****     compass_heading = atan2((double) (compass_y + CALIBRATION_Y), 
 379              		.loc 1 119 0
 380 00a8 374B     		ldr	r3, .L15+16
 381 00aa 1B88     		ldrh	r3, [r3]
 382 00ac 1BB2     		sxth	r3, r3
 383 00ae 2A3B     		subs	r3, r3, #42
 384 00b0 1846     		mov	r0, r3
 385 00b2 FFF7FEFF 		bl	__aeabi_i2d
 386 00b6 0446     		mov	r4, r0
 387 00b8 0D46     		mov	r5, r1
 120:.\compass.c   ****                             (double) (compass_x + CALIBRATION_X)) * 
 388              		.loc 1 120 0
 389 00ba 314B     		ldr	r3, .L15+8
 390 00bc 1B88     		ldrh	r3, [r3]
 391 00be 1BB2     		sxth	r3, r3
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 10


 392 00c0 0F3B     		subs	r3, r3, #15
 119:.\compass.c   ****     compass_heading = atan2((double) (compass_y + CALIBRATION_Y), 
 393              		.loc 1 119 0
 394 00c2 1846     		mov	r0, r3
 395 00c4 FFF7FEFF 		bl	__aeabi_i2d
 396 00c8 0246     		mov	r2, r0
 397 00ca 0B46     		mov	r3, r1
 398 00cc 2046     		mov	r0, r4
 399 00ce 2946     		mov	r1, r5
 400 00d0 FFF7FEFF 		bl	atan2
 401 00d4 0246     		mov	r2, r0
 402 00d6 0B46     		mov	r3, r1
 403              		.loc 1 120 0
 404 00d8 1046     		mov	r0, r2
 405 00da 1946     		mov	r1, r3
 406 00dc 26A3     		adr	r3, .L15
 407 00de D3E90023 		ldrd	r2, [r3]
 408 00e2 FFF7FEFF 		bl	__aeabi_dmul
 409 00e6 0246     		mov	r2, r0
 410 00e8 0B46     		mov	r3, r1
 121:.\compass.c   ****                             (180/M_PI) + 180 - original_compass_heading;
 411              		.loc 1 121 0
 412 00ea 1046     		mov	r0, r2
 413 00ec 1946     		mov	r1, r3
 414 00ee 4FF00002 		mov	r2, #0
 415 00f2 264B     		ldr	r3, .L15+20
 416 00f4 FFF7FEFF 		bl	__aeabi_dadd
 417 00f8 0246     		mov	r2, r0
 418 00fa 0B46     		mov	r3, r1
 419 00fc 1446     		mov	r4, r2
 420 00fe 1D46     		mov	r5, r3
 421 0100 234B     		ldr	r3, .L15+24
 422 0102 1B88     		ldrh	r3, [r3]
 423 0104 1BB2     		sxth	r3, r3
 424 0106 1846     		mov	r0, r3
 425 0108 FFF7FEFF 		bl	__aeabi_i2d
 426 010c 0246     		mov	r2, r0
 427 010e 0B46     		mov	r3, r1
 428 0110 2046     		mov	r0, r4
 429 0112 2946     		mov	r1, r5
 430 0114 FFF7FEFF 		bl	__aeabi_dsub
 431 0118 0246     		mov	r2, r0
 432 011a 0B46     		mov	r3, r1
 119:.\compass.c   ****     compass_heading = atan2((double) (compass_y + CALIBRATION_Y), 
 433              		.loc 1 119 0
 434 011c 1046     		mov	r0, r2
 435 011e 1946     		mov	r1, r3
 436 0120 FFF7FEFF 		bl	__aeabi_d2iz
 437 0124 0346     		mov	r3, r0
 438 0126 9AB2     		uxth	r2, r3
 439 0128 1A4B     		ldr	r3, .L15+28
 440 012a 1A80     		strh	r2, [r3]	@ movhi
 122:.\compass.c   ****     if (compass_heading > 360){
 441              		.loc 1 122 0
 442 012c 194B     		ldr	r3, .L15+28
 443 012e 1B88     		ldrh	r3, [r3]
 444 0130 1BB2     		sxth	r3, r3
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 11


 445 0132 B3F5B47F 		cmp	r3, #360
 446 0136 09DD     		ble	.L13
 123:.\compass.c   ****         compass_heading -= 360;
 447              		.loc 1 123 0
 448 0138 164B     		ldr	r3, .L15+28
 449 013a 1B88     		ldrh	r3, [r3]
 450 013c 9BB2     		uxth	r3, r3
 451 013e A3F5B473 		sub	r3, r3, #360
 452 0142 9BB2     		uxth	r3, r3
 453 0144 9AB2     		uxth	r2, r3
 454 0146 134B     		ldr	r3, .L15+28
 455 0148 1A80     		strh	r2, [r3]	@ movhi
 456 014a 0DE0     		b	.L14
 457              	.L13:
 124:.\compass.c   ****     } else if (compass_heading < 0){
 458              		.loc 1 124 0
 459 014c 114B     		ldr	r3, .L15+28
 460 014e 1B88     		ldrh	r3, [r3]
 461 0150 1BB2     		sxth	r3, r3
 462 0152 002B     		cmp	r3, #0
 463 0154 08DA     		bge	.L14
 125:.\compass.c   ****         compass_heading += 360;
 464              		.loc 1 125 0
 465 0156 0F4B     		ldr	r3, .L15+28
 466 0158 1B88     		ldrh	r3, [r3]
 467 015a 9BB2     		uxth	r3, r3
 468 015c 03F5B473 		add	r3, r3, #360
 469 0160 9BB2     		uxth	r3, r3
 470 0162 9AB2     		uxth	r2, r3
 471 0164 0B4B     		ldr	r3, .L15+28
 472 0166 1A80     		strh	r2, [r3]	@ movhi
 473              	.L14:
 126:.\compass.c   ****     }
 127:.\compass.c   ****     compass_ready = 0;
 474              		.loc 1 127 0
 475 0168 0B4B     		ldr	r3, .L15+32
 476 016a 0022     		movs	r2, #0
 477 016c 1A70     		strb	r2, [r3]
 128:.\compass.c   **** }
 478              		.loc 1 128 0
 479 016e 0837     		adds	r7, r7, #8
 480 0170 BD46     		mov	sp, r7
 481              		@ sp needed
 482 0172 B0BD     		pop	{r4, r5, r7, pc}
 483              	.L16:
 484 0174 AFF30080 		.align	3
 485              	.L15:
 486 0178 F8C1631A 		.word	442745336
 487 017c DCA54C40 		.word	1078765020
 488 0180 00000000 		.word	compass_x
 489 0184 00000000 		.word	compass_z
 490 0188 00000000 		.word	compass_y
 491 018c 00806640 		.word	1080459264
 492 0190 00000000 		.word	original_compass_heading
 493 0194 00000000 		.word	compass_heading
 494 0198 00000000 		.word	compass_ready
 495              		.cfi_endproc
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 12


 496              	.LFE66:
 497              		.size	compass_read, .-compass_read
 498 019c AFF30080 		.text
 499              	.Letext0:
 500              		.file 2 "c:\\program files (x86)\\cypress\\psoc creator\\3.2\\psoc creator\\import\\gnu\\arm\\4.8.
 501              		.file 3 "c:\\program files (x86)\\cypress\\psoc creator\\3.2\\psoc creator\\import\\gnu\\arm\\4.8.
 502              		.file 4 "Generated_Source\\PSoC5/cytypes.h"
 503              		.file 5 "Generated_Source\\PSoC5/core_cm3.h"
 504              		.file 6 "Generated_Source\\PSoC5/Camera.h"
 505              		.section	.debug_info,"",%progbits
 506              	.Ldebug_info0:
 507 0000 0B020000 		.4byte	0x20b
 508 0004 0400     		.2byte	0x4
 509 0006 00000000 		.4byte	.Ldebug_abbrev0
 510 000a 04       		.byte	0x4
 511 000b 01       		.uleb128 0x1
 512 000c 5C010000 		.4byte	.LASF31
 513 0010 01       		.byte	0x1
 514 0011 63020000 		.4byte	.LASF32
 515 0015 84000000 		.4byte	.LASF33
 516 0019 00000000 		.4byte	.Ldebug_ranges0+0
 517 001d 00000000 		.4byte	0
 518 0021 00000000 		.4byte	.Ldebug_line0
 519 0025 02       		.uleb128 0x2
 520 0026 01       		.byte	0x1
 521 0027 06       		.byte	0x6
 522 0028 2E020000 		.4byte	.LASF0
 523 002c 02       		.uleb128 0x2
 524 002d 01       		.byte	0x1
 525 002e 08       		.byte	0x8
 526 002f 76000000 		.4byte	.LASF1
 527 0033 02       		.uleb128 0x2
 528 0034 02       		.byte	0x2
 529 0035 05       		.byte	0x5
 530 0036 FC010000 		.4byte	.LASF2
 531 003a 02       		.uleb128 0x2
 532 003b 02       		.byte	0x2
 533 003c 07       		.byte	0x7
 534 003d E5000000 		.4byte	.LASF3
 535 0041 03       		.uleb128 0x3
 536 0042 33000000 		.4byte	.LASF9
 537 0046 02       		.byte	0x2
 538 0047 37       		.byte	0x37
 539 0048 4C000000 		.4byte	0x4c
 540 004c 02       		.uleb128 0x2
 541 004d 04       		.byte	0x4
 542 004e 05       		.byte	0x5
 543 004f 19020000 		.4byte	.LASF4
 544 0053 02       		.uleb128 0x2
 545 0054 04       		.byte	0x4
 546 0055 07       		.byte	0x7
 547 0056 D3000000 		.4byte	.LASF5
 548 005a 02       		.uleb128 0x2
 549 005b 08       		.byte	0x8
 550 005c 05       		.byte	0x5
 551 005d E9010000 		.4byte	.LASF6
 552 0061 02       		.uleb128 0x2
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 13


 553 0062 08       		.byte	0x8
 554 0063 07       		.byte	0x7
 555 0064 3F010000 		.4byte	.LASF7
 556 0068 04       		.uleb128 0x4
 557 0069 04       		.byte	0x4
 558 006a 05       		.byte	0x5
 559 006b 696E7400 		.ascii	"int\000"
 560 006f 02       		.uleb128 0x2
 561 0070 04       		.byte	0x4
 562 0071 07       		.byte	0x7
 563 0072 32010000 		.4byte	.LASF8
 564 0076 03       		.uleb128 0x3
 565 0077 D8010000 		.4byte	.LASF10
 566 007b 03       		.byte	0x3
 567 007c 41       		.byte	0x41
 568 007d 41000000 		.4byte	0x41
 569 0081 03       		.uleb128 0x3
 570 0082 06020000 		.4byte	.LASF11
 571 0086 04       		.byte	0x4
 572 0087 B3       		.byte	0xb3
 573 0088 2C000000 		.4byte	0x2c
 574 008c 03       		.uleb128 0x3
 575 008d 56010000 		.4byte	.LASF12
 576 0091 04       		.byte	0x4
 577 0092 B7       		.byte	0xb7
 578 0093 33000000 		.4byte	0x33
 579 0097 02       		.uleb128 0x2
 580 0098 04       		.byte	0x4
 581 0099 04       		.byte	0x4
 582 009a 6B000000 		.4byte	.LASF13
 583 009e 02       		.uleb128 0x2
 584 009f 08       		.byte	0x8
 585 00a0 04       		.byte	0x4
 586 00a1 51000000 		.4byte	.LASF14
 587 00a5 02       		.uleb128 0x2
 588 00a6 01       		.byte	0x1
 589 00a7 08       		.byte	0x8
 590 00a8 F7010000 		.4byte	.LASF15
 591 00ac 05       		.uleb128 0x5
 592 00ad 81000000 		.4byte	0x81
 593 00b1 02       		.uleb128 0x2
 594 00b2 04       		.byte	0x4
 595 00b3 07       		.byte	0x7
 596 00b4 E0010000 		.4byte	.LASF16
 597 00b8 02       		.uleb128 0x2
 598 00b9 08       		.byte	0x8
 599 00ba 04       		.byte	0x4
 600 00bb 22020000 		.4byte	.LASF17
 601 00bf 06       		.uleb128 0x6
 602 00c0 07000000 		.4byte	.LASF18
 603 00c4 01       		.byte	0x1
 604 00c5 36       		.byte	0x36
 605 00c6 00000000 		.4byte	.LFB63
 606 00ca 14000000 		.4byte	.LFE63-.LFB63
 607 00ce 01       		.uleb128 0x1
 608 00cf 9C       		.byte	0x9c
 609 00d0 07       		.uleb128 0x7
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 14


 610 00d1 16000000 		.4byte	.LASF34
 611 00d5 01       		.byte	0x1
 612 00d6 3F       		.byte	0x3f
 613 00d7 00000000 		.4byte	.LFB64
 614 00db C4000000 		.4byte	.LFE64-.LFB64
 615 00df 01       		.uleb128 0x1
 616 00e0 9C       		.byte	0x9c
 617 00e1 F2000000 		.4byte	0xf2
 618 00e5 08       		.uleb128 0x8
 619 00e6 6900     		.ascii	"i\000"
 620 00e8 01       		.byte	0x1
 621 00e9 40       		.byte	0x40
 622 00ea 68000000 		.4byte	0x68
 623 00ee 02       		.uleb128 0x2
 624 00ef 91       		.byte	0x91
 625 00f0 74       		.sleb128 -12
 626 00f1 00       		.byte	0
 627 00f2 06       		.uleb128 0x6
 628 00f3 24010000 		.4byte	.LASF19
 629 00f7 01       		.byte	0x1
 630 00f8 47       		.byte	0x47
 631 00f9 00000000 		.4byte	.LFB65
 632 00fd 98000000 		.4byte	.LFE65-.LFB65
 633 0101 01       		.uleb128 0x1
 634 0102 9C       		.byte	0x9c
 635 0103 09       		.uleb128 0x9
 636 0104 0C020000 		.4byte	.LASF35
 637 0108 01       		.byte	0x1
 638 0109 64       		.byte	0x64
 639 010a 00000000 		.4byte	.LFB66
 640 010e 9C010000 		.4byte	.LFE66-.LFB66
 641 0112 01       		.uleb128 0x1
 642 0113 9C       		.byte	0x9c
 643 0114 27010000 		.4byte	0x127
 644 0118 0A       		.uleb128 0xa
 645 0119 71000000 		.4byte	.LASF20
 646 011d 01       		.byte	0x1
 647 011e 65       		.byte	0x65
 648 011f 27010000 		.4byte	0x127
 649 0123 02       		.uleb128 0x2
 650 0124 91       		.byte	0x91
 651 0125 68       		.sleb128 -24
 652 0126 00       		.byte	0
 653 0127 0B       		.uleb128 0xb
 654 0128 81000000 		.4byte	0x81
 655 012c 37010000 		.4byte	0x137
 656 0130 0C       		.uleb128 0xc
 657 0131 B1000000 		.4byte	0xb1
 658 0135 05       		.byte	0x5
 659 0136 00       		.byte	0
 660 0137 0D       		.uleb128 0xd
 661 0138 F8000000 		.4byte	.LASF21
 662 013c 05       		.byte	0x5
 663 013d 2A06     		.2byte	0x62a
 664 013f 43010000 		.4byte	0x143
 665 0143 05       		.uleb128 0x5
 666 0144 76000000 		.4byte	0x76
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 15


 667 0148 0B       		.uleb128 0xb
 668 0149 81000000 		.4byte	0x81
 669 014d 64010000 		.4byte	0x164
 670 0151 0C       		.uleb128 0xc
 671 0152 B1000000 		.4byte	0xb1
 672 0156 8F       		.byte	0x8f
 673 0157 0C       		.uleb128 0xc
 674 0158 B1000000 		.4byte	0xb1
 675 015c 57       		.byte	0x57
 676 015d 0C       		.uleb128 0xc
 677 015e B1000000 		.4byte	0xb1
 678 0162 03       		.byte	0x3
 679 0163 00       		.byte	0
 680 0164 0E       		.uleb128 0xe
 681 0165 58000000 		.4byte	.LASF22
 682 0169 06       		.byte	0x6
 683 016a 08       		.byte	0x8
 684 016b 48010000 		.4byte	0x148
 685 016f 05       		.uleb128 0x5
 686 0170 03       		.byte	0x3
 687 0171 00000000 		.4byte	Camera_framebuffer
 688 0175 0E       		.uleb128 0xe
 689 0176 05010000 		.4byte	.LASF23
 690 017a 01       		.byte	0x1
 691 017b 21       		.byte	0x21
 692 017c 8C000000 		.4byte	0x8c
 693 0180 05       		.uleb128 0x5
 694 0181 03       		.byte	0x3
 695 0182 00000000 		.4byte	compass_x
 696 0186 0E       		.uleb128 0xe
 697 0187 3D000000 		.4byte	.LASF24
 698 018b 01       		.byte	0x1
 699 018c 22       		.byte	0x22
 700 018d 8C000000 		.4byte	0x8c
 701 0191 05       		.uleb128 0x5
 702 0192 03       		.byte	0x3
 703 0193 00000000 		.4byte	compass_y
 704 0197 0E       		.uleb128 0xe
 705 0198 47000000 		.4byte	.LASF25
 706 019c 01       		.byte	0x1
 707 019d 23       		.byte	0x23
 708 019e 8C000000 		.4byte	0x8c
 709 01a2 05       		.uleb128 0x5
 710 01a3 03       		.byte	0x3
 711 01a4 00000000 		.4byte	compass_z
 712 01a8 0E       		.uleb128 0xe
 713 01a9 53020000 		.4byte	.LASF26
 714 01ad 01       		.byte	0x1
 715 01ae 24       		.byte	0x24
 716 01af 8C000000 		.4byte	0x8c
 717 01b3 05       		.uleb128 0x5
 718 01b4 03       		.byte	0x3
 719 01b5 00000000 		.4byte	compass_heading
 720 01b9 0E       		.uleb128 0xe
 721 01ba 0F010000 		.4byte	.LASF27
 722 01be 01       		.byte	0x1
 723 01bf 25       		.byte	0x25
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 16


 724 01c0 AC000000 		.4byte	0xac
 725 01c4 05       		.uleb128 0x5
 726 01c5 03       		.byte	0x3
 727 01c6 00000000 		.4byte	compass_ready
 728 01ca 0E       		.uleb128 0xe
 729 01cb 3A020000 		.4byte	.LASF28
 730 01cf 01       		.byte	0x1
 731 01d0 27       		.byte	0x27
 732 01d1 8C000000 		.4byte	0x8c
 733 01d5 05       		.uleb128 0x5
 734 01d6 03       		.byte	0x3
 735 01d7 00000000 		.4byte	original_compass_heading
 736 01db 0B       		.uleb128 0xb
 737 01dc 9E000000 		.4byte	0x9e
 738 01e0 EC010000 		.4byte	0x1ec
 739 01e4 0F       		.uleb128 0xf
 740 01e5 B1000000 		.4byte	0xb1
 741 01e9 6701     		.2byte	0x167
 742 01eb 00       		.byte	0
 743 01ec 0E       		.uleb128 0xe
 744 01ed 00000000 		.4byte	.LASF29
 745 01f1 01       		.byte	0x1
 746 01f2 3C       		.byte	0x3c
 747 01f3 DB010000 		.4byte	0x1db
 748 01f7 05       		.uleb128 0x5
 749 01f8 03       		.byte	0x3
 750 01f9 00000000 		.4byte	SinDeg
 751 01fd 0E       		.uleb128 0xe
 752 01fe 1D010000 		.4byte	.LASF30
 753 0202 01       		.byte	0x1
 754 0203 3D       		.byte	0x3d
 755 0204 DB010000 		.4byte	0x1db
 756 0208 05       		.uleb128 0x5
 757 0209 03       		.byte	0x3
 758 020a 00000000 		.4byte	CosDeg
 759 020e 00       		.byte	0
 760              		.section	.debug_abbrev,"",%progbits
 761              	.Ldebug_abbrev0:
 762 0000 01       		.uleb128 0x1
 763 0001 11       		.uleb128 0x11
 764 0002 01       		.byte	0x1
 765 0003 25       		.uleb128 0x25
 766 0004 0E       		.uleb128 0xe
 767 0005 13       		.uleb128 0x13
 768 0006 0B       		.uleb128 0xb
 769 0007 03       		.uleb128 0x3
 770 0008 0E       		.uleb128 0xe
 771 0009 1B       		.uleb128 0x1b
 772 000a 0E       		.uleb128 0xe
 773 000b 55       		.uleb128 0x55
 774 000c 17       		.uleb128 0x17
 775 000d 11       		.uleb128 0x11
 776 000e 01       		.uleb128 0x1
 777 000f 10       		.uleb128 0x10
 778 0010 17       		.uleb128 0x17
 779 0011 00       		.byte	0
 780 0012 00       		.byte	0
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 17


 781 0013 02       		.uleb128 0x2
 782 0014 24       		.uleb128 0x24
 783 0015 00       		.byte	0
 784 0016 0B       		.uleb128 0xb
 785 0017 0B       		.uleb128 0xb
 786 0018 3E       		.uleb128 0x3e
 787 0019 0B       		.uleb128 0xb
 788 001a 03       		.uleb128 0x3
 789 001b 0E       		.uleb128 0xe
 790 001c 00       		.byte	0
 791 001d 00       		.byte	0
 792 001e 03       		.uleb128 0x3
 793 001f 16       		.uleb128 0x16
 794 0020 00       		.byte	0
 795 0021 03       		.uleb128 0x3
 796 0022 0E       		.uleb128 0xe
 797 0023 3A       		.uleb128 0x3a
 798 0024 0B       		.uleb128 0xb
 799 0025 3B       		.uleb128 0x3b
 800 0026 0B       		.uleb128 0xb
 801 0027 49       		.uleb128 0x49
 802 0028 13       		.uleb128 0x13
 803 0029 00       		.byte	0
 804 002a 00       		.byte	0
 805 002b 04       		.uleb128 0x4
 806 002c 24       		.uleb128 0x24
 807 002d 00       		.byte	0
 808 002e 0B       		.uleb128 0xb
 809 002f 0B       		.uleb128 0xb
 810 0030 3E       		.uleb128 0x3e
 811 0031 0B       		.uleb128 0xb
 812 0032 03       		.uleb128 0x3
 813 0033 08       		.uleb128 0x8
 814 0034 00       		.byte	0
 815 0035 00       		.byte	0
 816 0036 05       		.uleb128 0x5
 817 0037 35       		.uleb128 0x35
 818 0038 00       		.byte	0
 819 0039 49       		.uleb128 0x49
 820 003a 13       		.uleb128 0x13
 821 003b 00       		.byte	0
 822 003c 00       		.byte	0
 823 003d 06       		.uleb128 0x6
 824 003e 2E       		.uleb128 0x2e
 825 003f 00       		.byte	0
 826 0040 3F       		.uleb128 0x3f
 827 0041 19       		.uleb128 0x19
 828 0042 03       		.uleb128 0x3
 829 0043 0E       		.uleb128 0xe
 830 0044 3A       		.uleb128 0x3a
 831 0045 0B       		.uleb128 0xb
 832 0046 3B       		.uleb128 0x3b
 833 0047 0B       		.uleb128 0xb
 834 0048 27       		.uleb128 0x27
 835 0049 19       		.uleb128 0x19
 836 004a 11       		.uleb128 0x11
 837 004b 01       		.uleb128 0x1
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 18


 838 004c 12       		.uleb128 0x12
 839 004d 06       		.uleb128 0x6
 840 004e 40       		.uleb128 0x40
 841 004f 18       		.uleb128 0x18
 842 0050 9642     		.uleb128 0x2116
 843 0052 19       		.uleb128 0x19
 844 0053 00       		.byte	0
 845 0054 00       		.byte	0
 846 0055 07       		.uleb128 0x7
 847 0056 2E       		.uleb128 0x2e
 848 0057 01       		.byte	0x1
 849 0058 3F       		.uleb128 0x3f
 850 0059 19       		.uleb128 0x19
 851 005a 03       		.uleb128 0x3
 852 005b 0E       		.uleb128 0xe
 853 005c 3A       		.uleb128 0x3a
 854 005d 0B       		.uleb128 0xb
 855 005e 3B       		.uleb128 0x3b
 856 005f 0B       		.uleb128 0xb
 857 0060 11       		.uleb128 0x11
 858 0061 01       		.uleb128 0x1
 859 0062 12       		.uleb128 0x12
 860 0063 06       		.uleb128 0x6
 861 0064 40       		.uleb128 0x40
 862 0065 18       		.uleb128 0x18
 863 0066 9642     		.uleb128 0x2116
 864 0068 19       		.uleb128 0x19
 865 0069 01       		.uleb128 0x1
 866 006a 13       		.uleb128 0x13
 867 006b 00       		.byte	0
 868 006c 00       		.byte	0
 869 006d 08       		.uleb128 0x8
 870 006e 34       		.uleb128 0x34
 871 006f 00       		.byte	0
 872 0070 03       		.uleb128 0x3
 873 0071 08       		.uleb128 0x8
 874 0072 3A       		.uleb128 0x3a
 875 0073 0B       		.uleb128 0xb
 876 0074 3B       		.uleb128 0x3b
 877 0075 0B       		.uleb128 0xb
 878 0076 49       		.uleb128 0x49
 879 0077 13       		.uleb128 0x13
 880 0078 02       		.uleb128 0x2
 881 0079 18       		.uleb128 0x18
 882 007a 00       		.byte	0
 883 007b 00       		.byte	0
 884 007c 09       		.uleb128 0x9
 885 007d 2E       		.uleb128 0x2e
 886 007e 01       		.byte	0x1
 887 007f 3F       		.uleb128 0x3f
 888 0080 19       		.uleb128 0x19
 889 0081 03       		.uleb128 0x3
 890 0082 0E       		.uleb128 0xe
 891 0083 3A       		.uleb128 0x3a
 892 0084 0B       		.uleb128 0xb
 893 0085 3B       		.uleb128 0x3b
 894 0086 0B       		.uleb128 0xb
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 19


 895 0087 27       		.uleb128 0x27
 896 0088 19       		.uleb128 0x19
 897 0089 11       		.uleb128 0x11
 898 008a 01       		.uleb128 0x1
 899 008b 12       		.uleb128 0x12
 900 008c 06       		.uleb128 0x6
 901 008d 40       		.uleb128 0x40
 902 008e 18       		.uleb128 0x18
 903 008f 9642     		.uleb128 0x2116
 904 0091 19       		.uleb128 0x19
 905 0092 01       		.uleb128 0x1
 906 0093 13       		.uleb128 0x13
 907 0094 00       		.byte	0
 908 0095 00       		.byte	0
 909 0096 0A       		.uleb128 0xa
 910 0097 34       		.uleb128 0x34
 911 0098 00       		.byte	0
 912 0099 03       		.uleb128 0x3
 913 009a 0E       		.uleb128 0xe
 914 009b 3A       		.uleb128 0x3a
 915 009c 0B       		.uleb128 0xb
 916 009d 3B       		.uleb128 0x3b
 917 009e 0B       		.uleb128 0xb
 918 009f 49       		.uleb128 0x49
 919 00a0 13       		.uleb128 0x13
 920 00a1 02       		.uleb128 0x2
 921 00a2 18       		.uleb128 0x18
 922 00a3 00       		.byte	0
 923 00a4 00       		.byte	0
 924 00a5 0B       		.uleb128 0xb
 925 00a6 01       		.uleb128 0x1
 926 00a7 01       		.byte	0x1
 927 00a8 49       		.uleb128 0x49
 928 00a9 13       		.uleb128 0x13
 929 00aa 01       		.uleb128 0x1
 930 00ab 13       		.uleb128 0x13
 931 00ac 00       		.byte	0
 932 00ad 00       		.byte	0
 933 00ae 0C       		.uleb128 0xc
 934 00af 21       		.uleb128 0x21
 935 00b0 00       		.byte	0
 936 00b1 49       		.uleb128 0x49
 937 00b2 13       		.uleb128 0x13
 938 00b3 2F       		.uleb128 0x2f
 939 00b4 0B       		.uleb128 0xb
 940 00b5 00       		.byte	0
 941 00b6 00       		.byte	0
 942 00b7 0D       		.uleb128 0xd
 943 00b8 34       		.uleb128 0x34
 944 00b9 00       		.byte	0
 945 00ba 03       		.uleb128 0x3
 946 00bb 0E       		.uleb128 0xe
 947 00bc 3A       		.uleb128 0x3a
 948 00bd 0B       		.uleb128 0xb
 949 00be 3B       		.uleb128 0x3b
 950 00bf 05       		.uleb128 0x5
 951 00c0 49       		.uleb128 0x49
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 20


 952 00c1 13       		.uleb128 0x13
 953 00c2 3F       		.uleb128 0x3f
 954 00c3 19       		.uleb128 0x19
 955 00c4 3C       		.uleb128 0x3c
 956 00c5 19       		.uleb128 0x19
 957 00c6 00       		.byte	0
 958 00c7 00       		.byte	0
 959 00c8 0E       		.uleb128 0xe
 960 00c9 34       		.uleb128 0x34
 961 00ca 00       		.byte	0
 962 00cb 03       		.uleb128 0x3
 963 00cc 0E       		.uleb128 0xe
 964 00cd 3A       		.uleb128 0x3a
 965 00ce 0B       		.uleb128 0xb
 966 00cf 3B       		.uleb128 0x3b
 967 00d0 0B       		.uleb128 0xb
 968 00d1 49       		.uleb128 0x49
 969 00d2 13       		.uleb128 0x13
 970 00d3 3F       		.uleb128 0x3f
 971 00d4 19       		.uleb128 0x19
 972 00d5 02       		.uleb128 0x2
 973 00d6 18       		.uleb128 0x18
 974 00d7 00       		.byte	0
 975 00d8 00       		.byte	0
 976 00d9 0F       		.uleb128 0xf
 977 00da 21       		.uleb128 0x21
 978 00db 00       		.byte	0
 979 00dc 49       		.uleb128 0x49
 980 00dd 13       		.uleb128 0x13
 981 00de 2F       		.uleb128 0x2f
 982 00df 05       		.uleb128 0x5
 983 00e0 00       		.byte	0
 984 00e1 00       		.byte	0
 985 00e2 00       		.byte	0
 986              		.section	.debug_aranges,"",%progbits
 987 0000 34000000 		.4byte	0x34
 988 0004 0200     		.2byte	0x2
 989 0006 00000000 		.4byte	.Ldebug_info0
 990 000a 04       		.byte	0x4
 991 000b 00       		.byte	0
 992 000c 0000     		.2byte	0
 993 000e 0000     		.2byte	0
 994 0010 00000000 		.4byte	.LFB63
 995 0014 14000000 		.4byte	.LFE63-.LFB63
 996 0018 00000000 		.4byte	.LFB64
 997 001c C4000000 		.4byte	.LFE64-.LFB64
 998 0020 00000000 		.4byte	.LFB65
 999 0024 98000000 		.4byte	.LFE65-.LFB65
 1000 0028 00000000 		.4byte	.LFB66
 1001 002c 9C010000 		.4byte	.LFE66-.LFB66
 1002 0030 00000000 		.4byte	0
 1003 0034 00000000 		.4byte	0
 1004              		.section	.debug_ranges,"",%progbits
 1005              	.Ldebug_ranges0:
 1006 0000 00000000 		.4byte	.LFB63
 1007 0004 14000000 		.4byte	.LFE63
 1008 0008 00000000 		.4byte	.LFB64
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 21


 1009 000c C4000000 		.4byte	.LFE64
 1010 0010 00000000 		.4byte	.LFB65
 1011 0014 98000000 		.4byte	.LFE65
 1012 0018 00000000 		.4byte	.LFB66
 1013 001c 9C010000 		.4byte	.LFE66
 1014 0020 00000000 		.4byte	0
 1015 0024 00000000 		.4byte	0
 1016              		.section	.debug_line,"",%progbits
 1017              	.Ldebug_line0:
 1018 0000 EC010000 		.section	.debug_str,"MS",%progbits,1
 1018      02005801 
 1018      00000201 
 1018      FB0E0D00 
 1018      01010101 
 1019              	.LASF29:
 1020 0000 53696E44 		.ascii	"SinDeg\000"
 1020      656700
 1021              	.LASF18:
 1022 0007 44524459 		.ascii	"DRDY_INTERRUPT\000"
 1022      5F494E54 
 1022      45525255 
 1022      505400
 1023              	.LASF34:
 1024 0016 63616C63 		.ascii	"calculate_circular_functions\000"
 1024      756C6174 
 1024      655F6369 
 1024      7263756C 
 1024      61725F66 
 1025              	.LASF9:
 1026 0033 5F5F696E 		.ascii	"__int32_t\000"
 1026      7433325F 
 1026      7400
 1027              	.LASF24:
 1028 003d 636F6D70 		.ascii	"compass_y\000"
 1028      6173735F 
 1028      7900
 1029              	.LASF25:
 1030 0047 636F6D70 		.ascii	"compass_z\000"
 1030      6173735F 
 1030      7A00
 1031              	.LASF14:
 1032 0051 646F7562 		.ascii	"double\000"
 1032      6C6500
 1033              	.LASF22:
 1034 0058 43616D65 		.ascii	"Camera_framebuffer\000"
 1034      72615F66 
 1034      72616D65 
 1034      62756666 
 1034      657200
 1035              	.LASF13:
 1036 006b 666C6F61 		.ascii	"float\000"
 1036      7400
 1037              	.LASF20:
 1038 0071 64617461 		.ascii	"data\000"
 1038      00
 1039              	.LASF1:
 1040 0076 756E7369 		.ascii	"unsigned char\000"
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 22


 1040      676E6564 
 1040      20636861 
 1040      7200
 1041              	.LASF33:
 1042 0084 433A5C55 		.ascii	"C:\\Users\\xavieran\\Desktop\\ECE3091\\PSOCProjects"
 1042      73657273 
 1042      5C786176 
 1042      69657261 
 1042      6E5C4465 
 1043 00b2 5C454E47 		.ascii	"\\ENG3091_MandM\\camera_test.cydsn\000"
 1043      33303931 
 1043      5F4D616E 
 1043      644D5C63 
 1043      616D6572 
 1044              	.LASF5:
 1045 00d3 6C6F6E67 		.ascii	"long unsigned int\000"
 1045      20756E73 
 1045      69676E65 
 1045      6420696E 
 1045      7400
 1046              	.LASF3:
 1047 00e5 73686F72 		.ascii	"short unsigned int\000"
 1047      7420756E 
 1047      7369676E 
 1047      65642069 
 1047      6E7400
 1048              	.LASF21:
 1049 00f8 49544D5F 		.ascii	"ITM_RxBuffer\000"
 1049      52784275 
 1049      66666572 
 1049      00
 1050              	.LASF23:
 1051 0105 636F6D70 		.ascii	"compass_x\000"
 1051      6173735F 
 1051      7800
 1052              	.LASF27:
 1053 010f 636F6D70 		.ascii	"compass_ready\000"
 1053      6173735F 
 1053      72656164 
 1053      7900
 1054              	.LASF30:
 1055 011d 436F7344 		.ascii	"CosDeg\000"
 1055      656700
 1056              	.LASF19:
 1057 0124 73746172 		.ascii	"start_compass\000"
 1057      745F636F 
 1057      6D706173 
 1057      7300
 1058              	.LASF8:
 1059 0132 756E7369 		.ascii	"unsigned int\000"
 1059      676E6564 
 1059      20696E74 
 1059      00
 1060              	.LASF7:
 1061 013f 6C6F6E67 		.ascii	"long long unsigned int\000"
 1061      206C6F6E 
 1061      6720756E 
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 23


 1061      7369676E 
 1061      65642069 
 1062              	.LASF12:
 1063 0156 696E7431 		.ascii	"int16\000"
 1063      3600
 1064              	.LASF31:
 1065 015c 474E5520 		.ascii	"GNU C 4.8.4 20140526 (release) [ARM/embedded-4_8-br"
 1065      4320342E 
 1065      382E3420 
 1065      32303134 
 1065      30353236 
 1066 018f 616E6368 		.ascii	"anch revision 211358] -mcpu=cortex-m3 -mthumb -g -O"
 1066      20726576 
 1066      6973696F 
 1066      6E203231 
 1066      31333538 
 1067 01c2 30202D66 		.ascii	"0 -ffunction-sections\000"
 1067      66756E63 
 1067      74696F6E 
 1067      2D736563 
 1067      74696F6E 
 1068              	.LASF10:
 1069 01d8 696E7433 		.ascii	"int32_t\000"
 1069      325F7400 
 1070              	.LASF16:
 1071 01e0 73697A65 		.ascii	"sizetype\000"
 1071      74797065 
 1071      00
 1072              	.LASF6:
 1073 01e9 6C6F6E67 		.ascii	"long long int\000"
 1073      206C6F6E 
 1073      6720696E 
 1073      7400
 1074              	.LASF15:
 1075 01f7 63686172 		.ascii	"char\000"
 1075      00
 1076              	.LASF2:
 1077 01fc 73686F72 		.ascii	"short int\000"
 1077      7420696E 
 1077      7400
 1078              	.LASF11:
 1079 0206 75696E74 		.ascii	"uint8\000"
 1079      3800
 1080              	.LASF35:
 1081 020c 636F6D70 		.ascii	"compass_read\000"
 1081      6173735F 
 1081      72656164 
 1081      00
 1082              	.LASF4:
 1083 0219 6C6F6E67 		.ascii	"long int\000"
 1083      20696E74 
 1083      00
 1084              	.LASF17:
 1085 0222 6C6F6E67 		.ascii	"long double\000"
 1085      20646F75 
 1085      626C6500 
 1086              	.LASF0:
ARM GAS  C:\Users\xavieran\AppData\Local\Temp\ccDc57a9.s 			page 24


 1087 022e 7369676E 		.ascii	"signed char\000"
 1087      65642063 
 1087      68617200 
 1088              	.LASF28:
 1089 023a 6F726967 		.ascii	"original_compass_heading\000"
 1089      696E616C 
 1089      5F636F6D 
 1089      70617373 
 1089      5F686561 
 1090              	.LASF26:
 1091 0253 636F6D70 		.ascii	"compass_heading\000"
 1091      6173735F 
 1091      68656164 
 1091      696E6700 
 1092              	.LASF32:
 1093 0263 2E5C636F 		.ascii	".\\compass.c\000"
 1093      6D706173 
 1093      732E6300 
 1094              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 4.8.4 20140526 (release) [ARM/embedded-4_8-br
